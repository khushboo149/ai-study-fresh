<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Study Helper</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>ðŸ“š AI Study Helper</h1>
            <div class="input-section">
                <input type="text" id="topicInput" placeholder="Enter a study topic (e.g., Photosynthesis, World War II)">
                <button id="generateBtn">Generate</button>
            </div>
            <div id="output" class="output-section"></div>
        </div>
    </div>    
    <script>
        const topicInput = document.getElementById("topicInput");
        const generateBtn = document.getElementById("generateBtn");
        const output = document.getElementById("output");
      
        generateBtn.addEventListener("click", async () => {
          const topic = topicInput.value.trim();
      
          if (!topic) {
            output.innerHTML = '<p class="error">Please enter a study topic!</p>';
            return;
          }
      
          generateBtn.disabled = true;
          generateBtn.textContent = "Generating...";
          output.innerHTML =
            '<p style="text-align:center;color:#667eea;">Generating study notes...</p>';
      
          try {
            const response = await fetch("/api/generate", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ topic }),
            });
      
            const data = await response.json();
      
            if (!response.ok) {
              throw new Error(data.error || "Failed to generate study notes");
            }
      
            output.innerHTML = `
              <div class="study-content">
                <pre style="white-space: pre-wrap; line-height: 1.6;">
      ${data.content}
                </pre>
              </div>
            `;
          } catch (error) {
            output.innerHTML = `<p class="error">Error: ${error.message}</p>`;
          } finally {
            generateBtn.disabled = false;
            generateBtn.textContent = "Generate";
          }
        });
      
        topicInput.addEventListener("keypress", (e) => {
          if (e.key === "Enter") generateBtn.click();
        });
      </script>
      